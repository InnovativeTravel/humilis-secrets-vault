---
secrets-vault:
    description:
        A dummy environment to test the secrets-vault layer.

    layers:
        - layer: streams
          layer_type: streams
          streams:
              - name: InputStream
                shard_count: 1
              - name: OutputStream
                shard_count: 1
              - name: MatchedStream
                shard_count: 1

        - layer: filter
          layer_type: filter
          dependencies: ["streams"]
          input: {layer: streams, stream: InputStream}
          output: {layer: streams, stream: OutputStream}
          # Do not delivered the unmatched events anywhere
          matched: {layer: streams, stream: MatchedStream}
          input_delivery: False
          output_delivery: False
          matched_delivery: False

        - layer: secrets-vault
          layer_type: secrets-vault
          associated_processors: ["filter"]
          dynamodb_capacity: {read: 5, write: 1}
